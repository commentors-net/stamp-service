<Window x:Class="StampService.AdminGUI.Wizards.CreateTokenWizard"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Create New Token" 
        Height="600" Width="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}"
  FontFamily="{materialDesign:MaterialDesignFont}">

    <Grid>
 <Grid.RowDefinitions>
   <RowDefinition Height="Auto"/>
  <RowDefinition Height="*"/>
     <RowDefinition Height="Auto"/>
 </Grid.RowDefinitions>

   <!-- Header -->
   <materialDesign:ColorZone Grid.Row="0" Mode="PrimaryMid" Padding="16">
       <StackPanel>
 <TextBlock x:Name="StepIndicator" Text="Step 1 of 4" FontSize="18" FontWeight="SemiBold"/>
            </StackPanel>
  </materialDesign:ColorZone>

   <!-- Content -->
     <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
         <Grid Margin="24">
         
   <!-- Step 1: Token Details -->
        <StackPanel x:Name="Step1Panel" Visibility="Visible">
   <TextBlock Text="Token Details" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

   <TextBlock Text="Token Name" Margin="0,0,0,4"/>
      <TextBox x:Name="TokenNameInput" 
      materialDesign:HintAssist.Hint="e.g., TESTTOKEN"
    Style="{StaticResource MaterialDesignOutlinedTextBox}"
      Margin="0,0,0,16"/>

   <TextBlock Text="Description (optional)" Margin="0,0,0,4"/>
      <TextBox materialDesign:HintAssist.Hint="What is this token for?"
          Style="{StaticResource MaterialDesignOutlinedTextBox}"
            AcceptsReturn="True"
  TextWrapping="Wrap"
        Height="80"
           Margin="0,0,0,16"/>

         <TextBlock Text="Network" Margin="0,0,0,8"/>
 <ComboBox x:Name="NetworkComboBox" 
         Style="{StaticResource MaterialDesignOutlinedComboBox}"
       SelectedIndex="0">
 <ComboBoxItem Content="Ethereum Mainnet"/>
    <ComboBoxItem Content="Ethereum Testnet (Sepolia)"/>
    <!-- Future networks (commented out for now)
    <ComboBoxItem Content="Polygon Mainnet"/>
    <ComboBoxItem Content="Polygon Testnet (Mumbai)"/>
    <ComboBoxItem Content="Binance Smart Chain"/>
    <ComboBoxItem Content="Solana Mainnet"/>
    <ComboBoxItem Content="Solana Devnet"/>
    -->
</ComboBox>
   </StackPanel>

    <!-- Step 2: Generate Keys -->
   <StackPanel x:Name="Step2Panel" Visibility="Collapsed">
       <TextBlock Text="Generating Secure Keys..." FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

       <materialDesign:Card Padding="16" Margin="0,0,0,8">
          <StackPanel>
            <TextBlock x:Name="MasterKeyStatus" Text="? Master Contract Key..." FontWeight="SemiBold"/>
          <TextBlock x:Name="MasterAddressText" Text="Address: Generating..." Margin="0,4,0,0" FontSize="12" Opacity="0.7"/>
         </StackPanel>
       </materialDesign:Card>

   <materialDesign:Card Padding="16" Margin="0,0,0,8">
    <StackPanel>
    <TextBlock x:Name="ProxyKeyStatus" Text="? Proxy Contract Key..." FontWeight="SemiBold"/>
        <TextBlock x:Name="ProxyAddressText" Text="Address: Generating..." Margin="0,4,0,0" FontSize="12" Opacity="0.7"/>
         </StackPanel>
 </materialDesign:Card>

     <materialDesign:Card Padding="16" Margin="0,0,0,8">
         <StackPanel>
   <TextBlock x:Name="StorageStatus" Text="? Storing securely..." FontWeight="SemiBold"/>
   <TextBlock Text="Encrypted with DPAPI in Registry" Margin="0,4,0,0" FontSize="12" Opacity="0.7"/>
      </StackPanel>
 </materialDesign:Card>

    <ProgressBar x:Name="ProgressBar" 
           Visibility="Collapsed"
           Height="4" 
 Margin="0,16,0,0"/>
         </StackPanel>

   <!-- Step 3: Backup Shares -->
        <StackPanel x:Name="Step3Panel" Visibility="Collapsed">
    <TextBlock Text="Backup Shares Created" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

  <TextBlock TextWrapping="Wrap" Margin="0,0,0,16">
     For security, we've created 5 backup shares.
       You need any 3 to recover your keys.
            </TextBlock>

<TextBlock Text="Save Location" Margin="0,0,0,4"/>
       <Grid Margin="0,0,0,16">
      <Grid.ColumnDefinitions>
             <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
       </Grid.ColumnDefinitions>
       <TextBox x:Name="BackupLocationText" 
        Grid.Column="0"
         IsReadOnly="True"
                 Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
        <Button Grid.Column="1" 
     Style="{StaticResource MaterialDesignIconButton}"
      Click="OpenBackupFolder_Click"
    ToolTip="Open Folder"
  Margin="8,0,0,0">
 <materialDesign:PackIcon Kind="Folder"/>
    </Button>
          </Grid>

   <TextBlock x:Name="BackupStatus" 
       Text="? Backup shares ready" 
     FontWeight="SemiBold"
          Foreground="Green"
    Margin="0,0,0,16"/>

     <materialDesign:Card Padding="16" Background="{DynamicResource MaterialDesignDivider}">
<StackPanel>
 <TextBlock Text="CRITICAL: Store these shares separately!" FontWeight="Bold"/>
     <TextBlock Text="Suggestions:" Margin="0,8,0,4"/>
     <TextBlock Text="* Email share-1 to yourself" Margin="16,2,0,0"/>
     <TextBlock Text="* USB drive for share-2" Margin="16,2,0,0"/>
           <TextBlock Text="* Cloud storage for share-3" Margin="16,2,0,0"/>
    <TextBlock Text="* Print share-4 (physical backup)" Margin="16,2,0,0"/>
         <TextBlock Text="* Give share-5 to trusted person" Margin="16,2,0,0"/>
          </StackPanel>
        </materialDesign:Card>

    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,16,0,0">
    <Button Content="Open Backup Folder" 
        Click="OpenBackupFolder_Click"
       Style="{StaticResource MaterialDesignOutlinedButton}"
    Margin="0,0,8,0"/>
        <Button Content="Print Shares" 
     Click="PrintShares_Click"
             Style="{StaticResource MaterialDesignOutlinedButton}"/>
      </StackPanel>

     <ProgressBar x:Name="BackupProgressBar" 
        Visibility="Collapsed"
    Height="4" 
 Margin="0,16,0,0"/>
       </StackPanel>

  <!-- Step 4: Complete -->
 <StackPanel x:Name="Step4Panel" Visibility="Collapsed">
   <TextBlock Text="Ready to Deploy!" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

            <materialDesign:Card Padding="16" Margin="0,0,0,16">
    <StackPanel>
           <TextBlock Text="Summary" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,12"/>
   
        <Grid>
           <Grid.ColumnDefinitions>
     <ColumnDefinition Width="120"/>
  <ColumnDefinition Width="*"/>
     </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
       <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
   </Grid.RowDefinitions>

 <TextBlock Grid.Row="0" Grid.Column="0" Text="Token:" FontWeight="SemiBold"/>
      <TextBlock Grid.Row="0" Grid.Column="1" x:Name="SummaryTokenName" Margin="8,0,0,4"/>

   <TextBlock Grid.Row="1" Grid.Column="0" Text="Network:" FontWeight="SemiBold"/>
 <TextBlock Grid.Row="1" Grid.Column="1" x:Name="SummaryNetwork" Margin="8,0,0,4"/>

<TextBlock Grid.Row="2" Grid.Column="0" Text="Master:" FontWeight="SemiBold"/>
   <TextBlock Grid.Row="2" Grid.Column="1" x:Name="SummaryMasterAddress" Margin="8,0,0,4"/>

<TextBlock Grid.Row="3" Grid.Column="0" Text="Proxy:" FontWeight="SemiBold"/>
 <TextBlock Grid.Row="3" Grid.Column="1" x:Name="SummaryProxyAddress" Margin="8,0,0,4"/>
          </Grid>
   </StackPanel>
      </materialDesign:Card>

     <TextBlock Text="Keys generated and stored securely" Foreground="Green" Margin="0,0,0,4"/>
   <TextBlock Text="Backup shares created" Foreground="Green" Margin="0,0,0,4"/>
   <TextBlock Text="Ready for deployment" Foreground="Green"/>
  </StackPanel>
        
        </Grid>
        </ScrollViewer>

        <!-- Footer Buttons -->
        <materialDesign:ColorZone Grid.Row="2" Mode="PrimaryLight" Padding="16">
  <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
   <Button x:Name="CancelButton" Content="Cancel" 
   Click="CancelButton_Click"
      Style="{StaticResource MaterialDesignFlatButton}"
     Margin="0,0,8,0"/>
        <Button x:Name="BackButton" Content="? Back" 
   Click="BackButton_Click"
    Style="{StaticResource MaterialDesignOutlinedButton}"
   Margin="0,0,8,0"/>
          <Button x:Name="NextButton" Content="Next ?" 
         Click="NextButton_Click"
        Style="{StaticResource MaterialDesignRaisedButton}"/>
            </StackPanel>
        </materialDesign:ColorZone>
  </Grid>
</Window>

