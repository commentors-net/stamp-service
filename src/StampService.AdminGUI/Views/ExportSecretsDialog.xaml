<Window x:Class="StampService.AdminGUI.Views.ExportSecretsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Export Secrets" Height="500" Width="650"
        WindowStartupLocation="CenterOwner"
      Background="{DynamicResource MaterialDesignPaper}"
     FontFamily="{materialDesign:MaterialDesignFont}"
   TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        ResizeMode="NoResize">

    <Grid Margin="24">
      <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0">
            <TextBlock Text="Export Secrets" FontSize="24" FontWeight="SemiBold" Margin="0,0,0,8"/>
  <TextBlock Text="Export secrets to encrypted or plain text file" 
         FontSize="13" Opacity="0.7" TextWrapping="Wrap"/>
        </StackPanel>

    <!-- Form -->
        <ScrollViewer Grid.Row="1" Margin="0,16,0,16" VerticalScrollBarVisibility="Auto">
            <StackPanel>
      <!-- Export Scope -->
    <TextBlock Text="Export Scope" FontWeight="SemiBold" Margin="0,0,0,8"/>
     <StackPanel x:Name="ExportScopePanel" Margin="0,0,0,16">
         <RadioButton x:Name="ExportSelectedRadio" 
          Content="Export selected secrets only"
      GroupName="ExportScope"
        IsChecked="True"
      Margin="0,0,0,8"/>
   <RadioButton x:Name="ExportAllRadio" 
          Content="Export all secrets"
      GroupName="ExportScope"/>
   </StackPanel>

        <!-- Export Format -->
       <TextBlock Text="Export Format" FontWeight="SemiBold" Margin="0,0,0,8"/>
      <ComboBox x:Name="FormatComboBox"
          Style="{StaticResource MaterialDesignOutlinedComboBox}"
         Margin="0,0,0,16"
      SelectedIndex="0">
        <ComboBoxItem Content="Encrypted JSON (Recommended)" Tag="EncryptedJson"/>
  <ComboBoxItem Content="Plain Text JSON (Not Secure)" Tag="PlainJson"/>
        <ComboBoxItem Content="CSV Spreadsheet (Not Secure)" Tag="Csv"/>
         </ComboBox>

      <!-- Password for Encrypted Export -->
     <StackPanel x:Name="PasswordPanel" Visibility="Visible">
  <TextBlock Text="Encryption Password" FontWeight="SemiBold" Margin="0,0,0,8"/>
       <PasswordBox x:Name="PasswordBox"
        Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
        materialDesign:HintAssist.Hint="Enter password"
 Margin="0,0,0,8"/>
   <PasswordBox x:Name="ConfirmPasswordBox"
          Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
      materialDesign:HintAssist.Hint="Confirm password"
     Margin="0,0,0,16"/>
                </StackPanel>

          <!-- Security Warning -->
       <Border Background="#FFF3E0" BorderBrush="#FF9800" BorderThickness="1" 
               CornerRadius="4" Padding="12" Margin="0,0,0,16">
                <StackPanel Orientation="Horizontal">
      <materialDesign:PackIcon Kind="AlertCircle" 
 Foreground="#FF6F00" 
Width="20" Height="20" 
        VerticalAlignment="Top" 
      Margin="0,0,8,0"/>
   <TextBlock TextWrapping="Wrap" FontSize="12">
   <Run Text="?? Security Warning:"/><LineBreak/>
                <Run x:Name="SecurityWarningText" Text="Encrypted exports protect your secrets with AES-256 encryption. Plain text exports expose secrets and should only be used on trusted computers."/>
       </TextBlock>
           </StackPanel>
      </Border>

     <!-- Export Options -->
  <TextBlock Text="Export Options" FontWeight="SemiBold" Margin="0,0,0,8"/>
       <CheckBox x:Name="IncludeMetadataCheckBox" 
         Content="Include metadata" 
    IsChecked="True"
             Margin="0,0,0,8"/>
       <CheckBox x:Name="IncludeTimestampsCheckBox" 
            Content="Include creation timestamps" 
        IsChecked="True"/>
            </StackPanel>
        </ScrollViewer>

   <!-- Action Buttons -->
    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="CANCEL" 
  Style="{StaticResource MaterialDesignFlatButton}"
  Click="CancelButton_Click"
  Margin="0,0,8,0"
     Width="100"/>
            <Button x:Name="ExportButton"
       Content="EXPORT" 
        Style="{StaticResource MaterialDesignRaisedButton}"
Click="ExportButton_Click"
    Width="120"/>
    </StackPanel>
    </Grid>
</Window>
