<Window x:Class="StampService.AdminGUI.Views.ImportSecretsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
Title="Import Secrets from File" Height="500" Width="650"
        WindowStartupLocation="CenterOwner"
Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{materialDesign:MaterialDesignFont}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        ResizeMode="NoResize">

    <Grid Margin="24">
      <Grid.RowDefinitions>
  <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
         <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0">
 <TextBlock Text="Import Secrets from File" FontSize="24" FontWeight="SemiBold" Margin="0,0,0,8"/>
            <TextBlock Text="Import secrets from encrypted JSON or plain text file" 
                FontSize="13" Opacity="0.7" TextWrapping="Wrap"/>
      </StackPanel>

        <!-- Content -->
    <ScrollViewer Grid.Row="1" Margin="0,16,0,16" VerticalScrollBarVisibility="Auto">
          <StackPanel>
    <!-- File Selection -->
       <TextBlock Text="Select File" FontWeight="SemiBold" Margin="0,0,0,8"/>
                <Grid Margin="0,0,0,16">
          <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
  <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
      <TextBox x:Name="FilePathTextBox"
    Grid.Column="0"
  IsReadOnly="True"
         materialDesign:HintAssist.Hint="No file selected"
      Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
       <Button Grid.Column="1" 
     Content="BROWSE"
Style="{StaticResource MaterialDesignRaisedButton}"
             Click="BrowseButton_Click"
        Margin="8,0,0,0"
  Width="100"/>
     </Grid>

 <!-- File Format -->
   <TextBlock Text="File Format" FontWeight="SemiBold" Margin="0,0,0,8"/>
       <ComboBox x:Name="FileFormatComboBox"
    materialDesign:HintAssist.Hint="Select format"
   Style="{StaticResource MaterialDesignOutlinedComboBox}"
      Margin="0,0,0,16"
     SelectedIndex="0">
          <ComboBoxItem Content="Auto-detect"/>
         <ComboBoxItem Content="Encrypted JSON (.json)"/>
           <ComboBoxItem Content="Plain Text (.txt)"/>
          <ComboBoxItem Content="CSV (.csv)"/>
      </ComboBox>

      <!-- Password (for encrypted files) -->
  <StackPanel x:Name="PasswordPanel" Visibility="Collapsed">
          <TextBlock Text="Password" FontWeight="SemiBold" Margin="0,0,0,8"/>
     <PasswordBox x:Name="PasswordBox"
             materialDesign:HintAssist.Hint="Enter decryption password"
           Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
       Margin="0,0,0,16"/>
           </StackPanel>

            <!-- Import Options -->
 <TextBlock Text="Import Options" FontWeight="SemiBold" Margin="0,8,0,8"/>
    <CheckBox x:Name="OverwriteExistingCheckBox"
        Content="Overwrite existing secrets with same name"
      Margin="0,0,0,8"/>
     <CheckBox x:Name="ValidateBeforeImportCheckBox"
    Content="Validate secrets before importing"
        IsChecked="True"
                Margin="0,0,0,8"/>
    <CheckBox x:Name="CreateBackupCheckBox"
     Content="Create backup of existing secrets first"
               IsChecked="True"
 Margin="0,0,0,16"/>

   <!-- Preview Area -->
           <TextBlock Text="Preview" FontWeight="SemiBold" Margin="0,0,0,8"/>
       <Border BorderBrush="{DynamicResource MaterialDesignDivider}" 
           BorderThickness="1" 
  CornerRadius="4"
       Height="120">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
       <TextBlock x:Name="PreviewTextBlock"
        Text="No file selected"
      Opacity="0.7"
       Margin="8"
     TextWrapping="Wrap"
            FontFamily="Consolas"
    FontSize="11"/>
           </ScrollViewer>
      </Border>

        <!-- Status -->
    <StackPanel x:Name="StatusPanel" Visibility="Collapsed" Margin="0,16,0,0">
         <TextBlock x:Name="StatusTextBlock"
      TextWrapping="Wrap"
  FontWeight="SemiBold"/>
         </StackPanel>
        </StackPanel>
        </ScrollViewer>

        <!-- Action Buttons -->
     <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
       <Button Content="CANCEL" 
     Style="{StaticResource MaterialDesignFlatButton}"
    Click="CancelButton_Click"
               Margin="0,0,8,0"
     Width="100"/>
      <Button x:Name="ImportButton"
         Content="IMPORT SECRETS" 
    Style="{StaticResource MaterialDesignRaisedButton}"
        Click="ImportButton_Click"
           IsEnabled="False"
              Width="160"/>
        </StackPanel>
    </Grid>
</Window>