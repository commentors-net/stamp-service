<Window x:Class="StampService.AdminGUI.Views.ServiceHealthView"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
  Title="Service Health" 
  Height="700" Width="900"
        WindowStartupLocation="CenterOwner"
      Background="{DynamicResource MaterialDesignPaper}"
      FontFamily="{materialDesign:MaterialDesignFont}">

    <Grid>
        <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
   <RowDefinition Height="Auto"/>
   </Grid.RowDefinitions>

    <!-- Header -->
<materialDesign:ColorZone Grid.Row="0" Mode="PrimaryMid" Padding="16">
     <DockPanel>
    <StackPanel Orientation="Horizontal">
    <materialDesign:PackIcon Kind="HeartPulse" Width="28" Height="28" VerticalAlignment="Center" Margin="0,0,12,0"/>
       <TextBlock Text="Service Health Monitor" FontSize="20" VerticalAlignment="Center" FontWeight="Medium"/>
</StackPanel>
   
  <Button DockPanel.Dock="Right"
      Content="Refresh"
       Click="RefreshButton_Click"
      Style="{StaticResource MaterialDesignRaisedLightButton}"/>
    </DockPanel>
 </materialDesign:ColorZone>

      <!-- Main Content -->
   <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
   <StackPanel Margin="24">

     <!-- Service Status Card -->
       <materialDesign:Card Padding="24" Margin="0,0,0,16" materialDesign:ElevationAssist.Elevation="Dp4">
     <StackPanel>
      <TextBlock Text="Service Status" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,16"/>
   
      <Grid>
          <Grid.ColumnDefinitions>
    <ColumnDefinition Width="150"/>
         <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
 <Grid.RowDefinitions>
       <RowDefinition Height="Auto"/>
     <RowDefinition Height="Auto"/>
    <RowDefinition Height="Auto"/>
     <RowDefinition Height="Auto"/>
    <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>

       <TextBlock Grid.Row="0" Grid.Column="0" Text="Status:" FontWeight="SemiBold" Margin="0,0,0,8"/>
      <TextBlock Grid.Row="0" Grid.Column="1" x:Name="ServiceStatusText" Text="Checking..." Margin="0,0,0,8"/>

        <TextBlock Grid.Row="1" Grid.Column="0" Text="Uptime:" FontWeight="SemiBold" Margin="0,0,0,8"/>
     <TextBlock Grid.Row="1" Grid.Column="1" x:Name="UptimeText" Text="Checking..." Margin="0,0,0,8"/>

           <TextBlock Grid.Row="2" Grid.Column="0" Text="Key Status:" FontWeight="SemiBold" Margin="0,0,0,8"/>
        <TextBlock Grid.Row="2" Grid.Column="1" x:Name="KeyStatusText" Text="Checking..." Margin="0,0,0,8"/>

           <TextBlock Grid.Row="3" Grid.Column="0" Text="Algorithm:" FontWeight="SemiBold" Margin="0,0,0,8"/>
     <TextBlock Grid.Row="3" Grid.Column="1" x:Name="AlgorithmText" Text="Checking..." Margin="0,0,0,8"/>

    <TextBlock Grid.Row="4" Grid.Column="0" Text="Last Check:" FontWeight="SemiBold"/>
       <TextBlock Grid.Row="4" Grid.Column="1" x:Name="LastCheckText" Text="Checking..."/>
     </Grid>
       </StackPanel>
  </materialDesign:Card>

   <!-- Test Operations Card -->
    <materialDesign:Card Padding="24" Margin="0,0,0,16" materialDesign:ElevationAssist.Elevation="Dp4">
       <StackPanel>
        <TextBlock Text="Test Operations" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,16"/>
  
     <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
        <Button Content="Test Stamp"
     Click="TestStampButton_Click"
    Style="{StaticResource MaterialDesignRaisedButton}"
        Margin="0,0,8,0"/>
<Button Content="Test Sign Request"
       Click="TestSignButton_Click"
       Style="{StaticResource MaterialDesignOutlinedButton}"/>
</StackPanel>

  <TextBox x:Name="TestResultsText"
     IsReadOnly="True"
   TextWrapping="Wrap"
       MinHeight="100"
       MaxHeight="200"
FontFamily="Consolas"
             FontSize="11"
   Style="{StaticResource MaterialDesignOutlinedTextBox}"
      VerticalScrollBarVisibility="Auto"/>
     </StackPanel>
  </materialDesign:Card>

       <!-- Performance Metrics Card -->
       <materialDesign:Card Padding="24" materialDesign:ElevationAssist.Elevation="Dp4">
        <StackPanel>
      <TextBlock Text="Performance Metrics" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,16"/>
       
     <Grid>
      <Grid.ColumnDefinitions>
     <ColumnDefinition Width="*"/>
  <ColumnDefinition Width="*"/>
       </Grid.ColumnDefinitions>
       <Grid.RowDefinitions>
   <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
   </Grid.RowDefinitions>

<StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,8,0">
     <TextBlock Text="Last Sign Operation" FontWeight="SemiBold" Margin="0,0,0,4"/>
   <TextBlock x:Name="LastSignTimeText" Text="N/A" FontSize="24" FontWeight="Bold"/>
  <TextBlock Text="milliseconds" FontSize="11" Opacity="0.7"/>
        </StackPanel>

      <StackPanel Grid.Row="0" Grid.Column="1" Margin="8,0,0,0">
 <TextBlock Text="Average Response Time" FontWeight="SemiBold" Margin="0,0,0,4"/>
<TextBlock x:Name="AvgResponseTimeText" Text="N/A" FontSize="24" FontWeight="Bold"/>
<TextBlock Text="milliseconds" FontSize="11" Opacity="0.7"/>
    </StackPanel>
      </Grid>
  </StackPanel>
   </materialDesign:Card>

</StackPanel>
  </ScrollViewer>

   <!-- Footer -->
  <materialDesign:ColorZone Grid.Row="2" Mode="PrimaryLight" Padding="12">
   <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
     <Button Content="Close" 
      Click="CloseButton_Click"
Style="{StaticResource MaterialDesignRaisedButton}"/>
    </StackPanel>
 </materialDesign:ColorZone>
    </Grid>
</Window>
